# -----------------------------
# ClickHouse connection
# -----------------------------
CH_HOST=http://localhost:8123
CH_DATABASE=default
CH_USER=default
CH_PASSWORD=12345678.

# -----------------------------
# Target table
# -----------------------------
TABLE_NAME=drill_events_test

# -----------------------------
# Ingestion pacing (producer)
# -----------------------------
INSERT_RATE=50000            # rows per second generated

# -----------------------------
# Client-side batching (your queue)
# -----------------------------
BATCH_SIZE=10000000            # rows per flush
FLUSH_MS=20000               # flush if timer hits first (ms)

# -----------------------------
# Async insert toggles
# -----------------------------
ASYNC_INSERT=1               # enable server-side coalescing path
WAIT_FOR_ASYNC_INSERT=1      # 0 = return fast; 1 = wait until server writes the coalesced block

# -----------------------------
# Server-side coalescing knobs (used by buildCHSettings if set)
# -----------------------------
# ASYNC_INSERT_BUSY_TIMEOUT_MS=40000   # cap coalescing window (~max read lag)
# MIN_INSERT_BLOCK_SIZE_ROWS=100000    # coalesce until at least this many rows
# MIN_INSERT_BLOCK_SIZE_BYTES=33554432  # OPTIONAL: 32 MB threshold (use instead of rows if you prefer)
